<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">Sagittarius</title>
<generator uri="https://github.com/mojombo/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="http://127.0.0.1:4000/feed.xml" />
<link rel="alternate" type="text/html" href="http://127.0.0.1:4000" />
<updated>2016-02-13T14:27:26+08:00</updated>
<id>http://127.0.0.1:4000/</id>
<author>
  <name>Wei</name>
  <uri>http://127.0.0.1:4000/</uri>
  <email>mavenwei@qq.com</email>
</author>


<entry>
  <title type="html"><![CDATA[Docker(3)-项目部署]]></title>
  <link>http://127.0.0.1:4000/docker/blog-test</link>
  <id>http://127.0.0.1:4000/docker/blog-test</id>
  <published>2016-02-13T00:00:00+08:00</published>
  <updated>2016-02-13T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;项目中使用Docker发布、部署&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;##生成镜像
使用&lt;code&gt;dockerfile&lt;/code&gt;生成包含war的镜像，此处使用的jetty作为容器&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;FROM jetty:9-jre7
MAINTAINER wei@yizhen.com
COPY target/uther.war /var/lib/jetty/webapps/ROOT.war
VOLUME /home/jetty/.dubbo
EXPOSE 8080
EXPOSE 20885
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;由于项目中使用了dubbo，需要在用户根目录创建一个可写权限的文件夹;对外暴露需要使用的端口&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;使用maven打包项目&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mvn  clean compile war:war -Dmaven.test.skip=true -P dev
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;使用&lt;code&gt;docker build&lt;/code&gt;生成镜像&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo docker build -t imagename:tag dockerfilepath/
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section&quot;&gt;启动镜像&lt;/h2&gt;

&lt;p&gt;使用&lt;code&gt;docker run&lt;/code&gt;启动容器&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run -d -p 80:8080 -p 20885:20885 -v /log:/log --net=host --name proejct_0210 imagename:tag
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;项目对外输出文件日志，使用了一个映射卷;net参数使dubbo向外暴露的接口使用和宿主机器同网段的地址&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;基础容器&lt;/h2&gt;
&lt;p&gt;###mysql&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run --name mysql -v /mysqldata:/var/lib/mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=toor -d mysql:5.6
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;jenkins&quot;&gt;jenkins&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run -it  -p 8080:8080 -p 50000:50000 -v /jenkinsdata:/var/ jenkins_home jenkins
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;registry&quot;&gt;registry&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run -p 5000:5000 -v /docker_registry:/tmp/registry-dev  registry
sudo docker push 127.0.0.1:5000/imagename
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;rancher&quot;&gt;rancher&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run -d --restart=always -p 8080:8080 rancher/server
&lt;/code&gt;&lt;/pre&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/docker/blog-test&quot;&gt;Docker(3)-项目部署&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on February 13, 2016.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Docker(3)-项目部署]]></title>
  <link>http://127.0.0.1:4000/docker/learning-docker-03-project-deploy</link>
  <id>http://127.0.0.1:4000/docker/learning-docker-03-project-deploy</id>
  <published>2016-02-10T00:00:00+08:00</published>
  <updated>2016-02-10T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;项目中使用Docker发布、部署&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;##生成镜像
使用&lt;code&gt;dockerfile&lt;/code&gt;生成包含war的镜像，此处使用的jetty作为容器&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;FROM jetty:9-jre7
MAINTAINER wei@yizhen.com
COPY target/uther.war /var/lib/jetty/webapps/ROOT.war
VOLUME /home/jetty/.dubbo
EXPOSE 8080
EXPOSE 20885
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;由于项目中使用了dubbo，需要在用户根目录创建一个可写权限的文件夹;对外暴露需要使用的端口&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;使用maven打包项目&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mvn  clean compile war:war -Dmaven.test.skip=true -P dev
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;使用&lt;code&gt;docker build&lt;/code&gt;生成镜像&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo docker build -t imagename:tag dockerfilepath/
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section&quot;&gt;启动镜像&lt;/h2&gt;

&lt;p&gt;使用&lt;code&gt;docker run&lt;/code&gt;启动容器&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run -d -p 80:8080 -p 20885:20885 -v /log:/log --net=host --name proejct_0210 imagename:tag
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;项目对外输出文件日志，使用了一个映射卷;net参数使dubbo向外暴露的接口使用和宿主机器同网段的地址&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;基础容器&lt;/h2&gt;
&lt;p&gt;###mysql&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run --name mysql -v /mysqldata:/var/lib/mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=toor -d mysql:5.6
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;jenkins&quot;&gt;jenkins&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run -it  -p 8080:8080 -p 50000:50000 -v /jenkinsdata:/var/ jenkins_home jenkins
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;registry&quot;&gt;registry&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run -p 5000:5000 -v /docker_registry:/tmp/registry-dev  registry
sudo docker push 127.0.0.1:5000/imagename
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;rancher&quot;&gt;rancher&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;sudo docker run -d --restart=always -p 8080:8080 rancher/server
&lt;/code&gt;&lt;/pre&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/docker/learning-docker-03-project-deploy&quot;&gt;Docker(3)-项目部署&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on February 10, 2016.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Docker(2)-容器&仓库]]></title>
  <link>http://127.0.0.1:4000/docker/learning-docker-02-container-epository</link>
  <id>http://127.0.0.1:4000/docker/learning-docker-02-container-epository</id>
  <published>2016-01-21T00:00:00+08:00</published>
  <updated>2016-01-21T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;Docker容器、仓库的相关操作&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;#容器&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;创建容器&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;docker create
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;创建出的容器处于停止状态，可以使用docker statrt启动，如果需要创建并启动容器使用&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker run
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section-1&quot;&gt;进入容器&lt;/h2&gt;

&lt;p&gt;使用&lt;code&gt;-d&lt;/code&gt;启动的容器会进入后台，使用如下命令可以连接后台的容器&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker attach 
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section-2&quot;&gt;删除容器&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;docker rm
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section-3&quot;&gt;导入、导出容器&lt;/h2&gt;
&lt;p&gt;导出一个已创建的容器到一个文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker export CONTAINER
docker import CONTAINER
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&quot;section-4&quot;&gt;仓库&lt;/h1&gt;
&lt;p&gt;##创建私有仓库&lt;/p&gt;

&lt;p&gt;使用官方的&lt;code&gt;registry&lt;/code&gt;镜像搭建本地私有仓库&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker run -d -p 5000:5000 -v /temp/dockerregistry:/tmp/registry registry
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section-5&quot;&gt;上传镜像到私有仓库&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;docker push localhost:5000/IMAGE 
&lt;/code&gt;&lt;/pre&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/docker/learning-docker-02-container-epository&quot;&gt;Docker(2)-容器&仓库&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on January 21, 2016.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Docker(1)-镜像]]></title>
  <link>http://127.0.0.1:4000/docker/learning-docker-01-image</link>
  <id>http://127.0.0.1:4000/docker/learning-docker-01-image</id>
  <published>2016-01-20T00:00:00+08:00</published>
  <updated>2016-01-20T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;Docker镜像的相关操作&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;镜像获取&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;docker pull [DockerRepositorieAddress/]IMAGENAME[:TAG]
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
  &lt;li&gt;DockerRepositorieAddress:用于指定镜像来源的仓库地址，默认镜像仓库为Docker Hub&lt;/li&gt;
  &lt;li&gt;TAG:用于指定镜像版本，如不显示指定，默认会选择latest作为镜像的标签，获取最新版本的镜像&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;镜像下载时会以层的方式进行，层(Layer)其实是AUFS(Advanced Union File System,一种联合文件系统)中的重要概念，是实现增量保存与更新的基础。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;镜像信息查看&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;查看本机已下载的镜像&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; docker images
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;此命令会显示一下信息：&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;来源的仓库地址&lt;/li&gt;
      &lt;li&gt;镜像的标签&lt;/li&gt;
      &lt;li&gt;镜像的ID(唯一)&lt;/li&gt;
      &lt;li&gt;创建时间&lt;/li&gt;
      &lt;li&gt;镜像大小&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;为镜像指定标签&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; docker tag [DockerRepositorieAddress/]IMAGENAME:TAG IMAGES:NEWTAG
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;使用docker images命令查看，新命名的标签和旧的标签指向的是同一个镜像ID，他们只是别名不同。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;查看镜像详细信息&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; docker inspect IMAGEID
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;&lt;em&gt;在指定IMAGEID时，通过使用该ID前几个字符即可&lt;/em&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-2&quot;&gt;镜像搜索&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;docker search TERM
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section-3&quot;&gt;删除镜像&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;docker rmi IMAGE[IMAGE...]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;删除时也可是使用&lt;code&gt;镜像ID&lt;/code&gt;来确定需要删除的镜像。如果镜像正在被使用使用rmi是无法删除的，可以使用&lt;code&gt;docker rmi -f&lt;/code&gt;强制删除，但不建议这么做，需要先使用&lt;code&gt;docker rm&lt;/code&gt;删除依赖的容器然后再删除镜像。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;创建镜像&lt;/h2&gt;

&lt;p&gt;目前创建镜像的方式由三种：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;基于现有镜像的容器创建&lt;/li&gt;
  &lt;li&gt;基于本地模板的导入&lt;/li&gt;
  &lt;li&gt;基于Dockerfile创建&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;下面介绍相对容易理解的前两种&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;基于现有镜像的容器创建&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;例如，对Ubuntu镜像进行操作后创建新的镜像&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; docker commit -m &quot;提交信息&quot; -a &#39;作者信息&#39; ORIGINIMAGEID NEWIMAGE
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;基于本地模板的导入&lt;/p&gt;

    &lt;p&gt;使用操作系统模板文件导入一个镜像文件&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; cat centos-xxx.xx.x.tar.gz 	| docker import - centos:tag
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-5&quot;&gt;保存和载入镜像&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;保存镜像&lt;/p&gt;

    &lt;p&gt;导出镜像为本地文件&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; docker save -o centos.tar centos:latest
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;载入镜像&lt;/p&gt;

    &lt;p&gt;使用本地文件生成镜像&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; docker load --input centos.tar 
 或
 docker load &amp;lt; centos.tar
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-6&quot;&gt;上传镜像&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;docker push NAME[:TAG]
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section-7&quot;&gt;其他&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;设置源地址&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;  docker login www.dockerhub.com
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;本系列参考《&lt;a href=&quot;http://book.douban.com/subject/26284823/&quot;&gt;Docker技术入门与实战&lt;/a&gt;》&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/docker/learning-docker-01-image&quot;&gt;Docker(1)-镜像&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on January 20, 2016.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[tomcat远程调试]]></title>
  <link>http://127.0.0.1:4000/java/tomcat-remote-debug</link>
  <id>http://127.0.0.1:4000/java/tomcat-remote-debug</id>
  <published>2016-01-15T00:00:00+08:00</published>
  <updated>2016-01-15T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;配置使用tomcat远程调试功能，使用idea远程调试项目&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;##tomcat配置
开启tomcat远程配置的方式有多种，下面介绍其中的一种。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;检查环境变量&lt;code&gt;CATALINA_BASE&lt;/code&gt;，指向tomcat根目录;&lt;/li&gt;
  &lt;li&gt;在&lt;code&gt;bin&lt;/code&gt;目录中创建文件&lt;code&gt;setenv.sh&lt;/code&gt;，windows环境命名为&lt;code&gt;setenv.bat&lt;/code&gt;;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;在上面的文件中添加如下命令:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; EXPORT CATALINA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&quot;
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;windwos&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; SET CATALINA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&quot;
&lt;/code&gt;&lt;/pre&gt;

    &lt;p&gt;此处指定的远程调试端口为&lt;code&gt;8000&lt;/code&gt;。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;ide&quot;&gt;IDE配置&lt;/h2&gt;

&lt;p&gt;这里使用的是&lt;code&gt;idea&lt;/code&gt;，在&lt;code&gt;Run/Debug Configurations&lt;/code&gt;中创建类型为&lt;code&gt;remote&lt;/code&gt;的应用，输入部署tomcat主机的ip:port选择本地源码所属的模块，启动&lt;code&gt;debug&lt;/code&gt;连接远程tomcat即可远程调试项目。&lt;/p&gt;

&lt;h2 id=&quot;tomcatjetty&quot;&gt;tomcat&amp;amp;jetty&lt;/h2&gt;

&lt;p&gt;最近在工作中遇到的一个部署问题，是由于URL编码造成的，开发环境使用maven插件使项目运行在jetty上，线上环境为tomcat，部署后发现前台传入的中文无法正常到达后台，查看tomcat配置文档，需要在server.xml中配置连接的编码格式，添加&lt;code&gt;URIEncoding=&quot;UTF-8&quot;&lt;/code&gt;配置。&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/java/tomcat-remote-debug&quot;&gt;tomcat远程调试&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on January 15, 2016.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[使用jsonp实现js跨域请求]]></title>
  <link>http://127.0.0.1:4000/javascript/ajax-jquery-crossdomain</link>
  <id>http://127.0.0.1:4000/javascript/ajax-jquery-crossdomain</id>
  <published>2016-01-13T00:00:00+08:00</published>
  <updated>2016-01-13T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;页面内跨域请求&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;##跨域限制
浏览器出于安全限制了不同域间的请求，jsonp使用动态生成前端js代码的方式绕过这个限制可以实现跨域请求。&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;前端&lt;/h2&gt;
&lt;p&gt;前端使用jquery封装的ajax&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;lang=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;en&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://libs.baidu.com/jquery/2.0.0/jquery.min.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;content&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;http://127.0.0.1:8080/ajax?callback=?&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
			&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;#content&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;This is &amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;调用时可以指定&lt;code&gt;callback&lt;/code&gt;或由jquery自动生成callback的参数。
##后端
后端代码使用springmvc实现一个可以处理异步请求的方法&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;nd&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;/ajax&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@ResponseBody&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;  &lt;span class=&quot;nf&quot;&gt;getAjaxResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@RequestParam&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;callback&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;{&amp;#39;name&amp;#39;:&amp;#39;张三&amp;#39;}&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;callback&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;(&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;)&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;后端服务需要可以处理&lt;code&gt;callback&lt;/code&gt;参数，并在返回前端需要的回调函数。&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/javascript/ajax-jquery-crossdomain&quot;&gt;使用jsonp实现js跨域请求&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on January 13, 2016.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[2015年终总结]]></title>
  <link>http://127.0.0.1:4000/work/2015-summary</link>
  <id>http://127.0.0.1:4000/work/2015-summary</id>
  <published>2015-12-25T00:00:00+08:00</published>
  <updated>2015-12-25T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;回顾过去、展望未来&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;一、职责概述&lt;/h2&gt;

&lt;p&gt;入职以来主要负责自动风控项目的研发管理工作，自主开发基于多样化用户数据，实现分析用户行为分析，辅助决策贷款审核的风控平台。目前自建爬虫不能满足需求，数据源主要依赖第三方采集，分析方式采用主观判断信用项分类的打分机制，初始参数采用逻辑回归的模型计算而来。此产品对外提供贷前辅助决策的功能。团队目标：在现有数据基础上给出尽可能客观的、能够被正常解释的分析结论，为公司现有贷款业务服务。围绕此项目，工作内容如下：&lt;/p&gt;

&lt;p&gt;管理型工作：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;新人培训&lt;/li&gt;
  &lt;li&gt;产品研发&lt;/li&gt;
  &lt;li&gt;资源协调&lt;/li&gt;
  &lt;li&gt;组织列会&lt;/li&gt;
  &lt;li&gt;内培培训、分享&lt;/li&gt;
  &lt;li&gt;团队建设&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;技术型工作：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;技术选型&lt;/li&gt;
  &lt;li&gt;产品架构&lt;/li&gt;
  &lt;li&gt;技术指导&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-1&quot;&gt;二、成绩和做法&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;设计之初考虑分布式的需求，为后续开发打下良好基础&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; 数据库监控层
 分布式服务、缓存
 利于扩展的代码组织结构
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;爬虫技术攻关，实现密码登陆、二次验证、js沙箱&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; 管理请求连接，便于重用、状态保持
 含有复杂ajax的数据获取方式使用执行js的方式获取
 登录含有验证码的请求页面
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;计算服务&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; 抽象数据源、计算规则，便于扩展
 支持不同算法的计算框架
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;适合现有团队的沟通协作方式&lt;/p&gt;

    &lt;p&gt;团队角色:&lt;code&gt;数据科学家&lt;/code&gt;,&lt;code&gt;业务专家&lt;/code&gt;,&lt;code&gt;数据消费者&lt;/code&gt;&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; 每个人工作侧重点不同
 执行力较高
 适应快速迭代
 对业务推，对技术拉
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-2&quot;&gt;三、经验和教训&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;对未知领域保持兴趣、敬畏，对结论的严谨，不明白的一定要找到原因，一知半解不可取。&lt;/li&gt;
  &lt;li&gt;做事讲究方式方法，用对的方法解决问题起着至关重要的作用，综合团队意见。&lt;/li&gt;
  &lt;li&gt;相互信任，预留时间储备，可以给团队成员快速的成长空间&lt;/li&gt;
  &lt;li&gt;项目长远规划很重要，避免做无用功。&lt;/li&gt;
  &lt;li&gt;产品项目最大的人力支出项并不是薪酬，而是招募组建这支团队的时间成本，以及在不得已的情况下，降低标准组队带来的质量与效率下降。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-3&quot;&gt;四、今后目标&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;业务框架稳定后工作重心向数据分析转移&lt;/li&gt;
  &lt;li&gt;规范的团队管理方式，改进任务分配、评估、跟踪&lt;/li&gt;
  &lt;li&gt;继续锻炼身体，培养好的生活习惯&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-4&quot;&gt;五、对组织意见或建议&lt;/h2&gt;

&lt;p&gt;明确各项目组任务、职责，让每个人明确自己的定位，不仅有事做，而且愿意做。为其他人创造成长的机会，达到公司、个人双赢。&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/work/2015-summary&quot;&gt;2015年终总结&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on December 25, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[maven引用snapshot版本jar]]></title>
  <link>http://127.0.0.1:4000/java,maven/maven-using-SNAPSHOT</link>
  <id>http://127.0.0.1:4000/java,maven/maven-using-SNAPSHOT</id>
  <published>2015-12-23T00:00:00+08:00</published>
  <updated>2015-12-23T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;!--more--&gt;
&lt;p&gt;##问题描述&lt;/p&gt;

&lt;p&gt;在本地编译上传snapshot jar,在其他环境无法正常获取，发现每次执行&lt;code&gt;mvn deploy&lt;/code&gt;时都会在本地仓库生成相应的文件，本地编译其他依赖项目是没有问题的，但在其他环境编译发现始终从PublicRepositorie获取，推断部署阶段应该是没问题的，猜测问题出在snapshot获取的路径配置上，查看maven配置&lt;code&gt;setting.xml&lt;/code&gt;。&lt;/p&gt;

&lt;h2 id=&quot;settingxml&quot;&gt;配置setting.xml&lt;/h2&gt;
&lt;p&gt;###mirror段&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;mirror&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;snapshot&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;mirrorOf&amp;gt;&lt;/span&gt;snapshots-repo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/mirrorOf&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://xxx.com/content/repositories/snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/mirror&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;profile&quot;&gt;profile段&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;profile&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;allow-snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;activation&amp;gt;&amp;lt;activeByDefault&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/activeByDefault&amp;gt;&amp;lt;/activation&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;nt&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;snapshots-repo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://xxx.com/content/repositories/snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;releases&amp;gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;false&lt;span class=&quot;nt&quot;&gt;&amp;lt;/enabled&amp;gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;snapshots&amp;gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/enabled&amp;gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;nt&quot;&gt;&amp;lt;/profile&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;再次编译依赖项目即可从SnapshotsRepositorie获取快照版本的类库。&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/java,maven/maven-using-SNAPSHOT&quot;&gt;maven引用snapshot版本jar&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on December 23, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[maven发布带有javadoc、source的库文件]]></title>
  <link>http://127.0.0.1:4000/java,maven/maven-deploy</link>
  <id>http://127.0.0.1:4000/java,maven/maven-deploy</id>
  <published>2015-12-16T00:00:00+08:00</published>
  <updated>2015-12-16T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;如果只发布打包的jar,在其他项目中引用看到的参数都是以var1…的形式存在，而且不包含注释文档，本文介绍如何向布带有源码、注释的jar.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;maven&quot;&gt;maven配置&lt;/h2&gt;
&lt;p&gt;向maven配置文件&lt;code&gt;settings.xml&lt;/code&gt;中添加&lt;code&gt;servers&lt;/code&gt;段，例如：&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;server&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;thirdparty&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;username&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/username&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;password&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/password&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/server&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;server&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;username&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/username&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;password&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/password&amp;gt;&lt;/span&gt;
  	&lt;span class=&quot;nt&quot;&gt;&amp;lt;/server&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;分别用于release、snapshot版本发布.&lt;/p&gt;

&lt;h2 id=&quot;project&quot;&gt;project配置&lt;/h2&gt;

&lt;p&gt;修改项目下的&lt;code&gt;pom.xml&lt;/code&gt;文件&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-source-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;attach-sources&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-javadoc-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;attach-javadocs&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- explicitly define maven-deploy-plugin after other to force exec&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;        order --&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-deploy-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;section&quot;&gt;发布&lt;/h2&gt;
&lt;p&gt;使用如下命令发布&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;	mvn source:jar javadoc:jar deploy
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这样在其他项目引用时就可以获取到文档及源码。&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/java,maven/maven-deploy&quot;&gt;maven发布带有javadoc、source的库文件&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on December 16, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[springmvc中配置FreeMarker]]></title>
  <link>http://127.0.0.1:4000/java,freemarker,spring/freemarker-java</link>
  <id>http://127.0.0.1:4000/java,freemarker,spring/freemarker-java</id>
  <published>2015-12-10T00:00:00+08:00</published>
  <updated>2015-12-10T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;前端模板freemarker配置&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;freemarkerjsp&quot;&gt;freemarker与JSP&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;freemarker是一种模板技术，类似的技术在python与nodejs众比较常见，语法直观&lt;/li&gt;
  &lt;li&gt;JSP会在编译器生成集成Servlet的class文件&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;除此之外freemarker也被用于代码生成、票据报表、邮件生成等方面&lt;/p&gt;

&lt;h2 id=&quot;springmvcfreemarker&quot;&gt;springmvc中集成freemarker&lt;/h2&gt;
&lt;p&gt;pom.xml中添加freemarker依赖&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.freemarker&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;freemarker&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;2.3.23&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;springmvc相关配置&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;freemarkerConfigurer&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;templateLoaderPath&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;/WEB-INF/views/&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;defaultEncoding&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;freemarkerSettings&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;props&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;template_update_delay&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;10&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;locale&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;zh_CN&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;datetime_format&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;yyyy-MM-dd HH:mm:ss&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;date_format&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;yyyy-MM-dd&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;number_format&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;#.##&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/props&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;viewResolver&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;viewClass&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;org.springframework.web.servlet.view.freemarker.FreeMarkerView&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;suffix&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.jsp&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;contentType&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text/html;charset=utf-8&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;exposeRequestAttributes&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;exposeSessionAttributes&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;exposeSpringMacroHelpers&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;section&quot;&gt;模板文件常用语法&lt;/h2&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-jsp&quot; data-lang=&quot;jsp&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html PUBLIC &amp;quot;-//W3C//DTD HTML 4.01 Transitional//EN&amp;quot; &amp;quot;http://www.w3.org/TR/html4/loose.dtd&amp;quot;&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;http-equiv=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Content-Type&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text/html; charset=UTF-8&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Insert title here&lt;span class=&quot;nt&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;  
  
描述：${description}  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
集合大小:${nameList?size}  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
迭代list集合：  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#list nameList as names&amp;gt;  
这是第${names_index+1}个人，叫做：&lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;color:red&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;${names}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;  
if判断：  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#if (names==&amp;quot;张三&amp;quot;)&amp;gt;  
 他是科长  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#elseif (names==&amp;quot;李四&amp;quot;)&amp;gt;       &lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#--注意这里没有返回而是在最后面--&amp;gt;   
 他是处长  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#else&amp;gt;  
他是群众 
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;/#if&amp;gt;  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;/#list&amp;gt;  
迭代map集合：  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#list weaponMap?keys as key&amp;gt;  
key---&amp;gt;${key}&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
value-----&amp;gt;${weaponMap[key]!(&amp;quot;null&amp;quot;)}  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#--   
fremarker 不支持null, 可以用！ 来代替为空的值。  
其实也可以给一个默认值    
value-----${weaponMap[key]?default(&amp;quot;null&amp;quot;)}  
还可以 在输出前判断是否为null  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#if weaponMap[key]??&amp;gt;&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;/#if&amp;gt;都可以  
--&amp;gt;  
  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;/#list&amp;gt;  
include导入文件：  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;br/&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;#include &amp;quot;include.html&amp;quot;/&amp;gt;  
  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;  
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;模板代码中可以直接读取session中级response中填入的属性值&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/java,freemarker,spring/freemarker-java&quot;&gt;springmvc中配置FreeMarker&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on December 10, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[idea 快捷键]]></title>
  <link>http://127.0.0.1:4000/idea,ide,keymap/IDE-idea-keymap</link>
  <id>http://127.0.0.1:4000/idea,ide,keymap/IDE-idea-keymap</id>
  <published>2015-12-01T00:00:00+08:00</published>
  <updated>2015-12-01T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;idea 定制快捷键Mac版&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;edit-action&quot;&gt;Edit Action&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;up/down/right/left				⌃ I/K/L/J
cut up to line end				⌃ K
delete to line start			⌘ del
duplicate lines					⌥ ⌘	down
join lines						⌃ ⇧	J
split lines						⌘ enter
move caret to line end			⌃ E
move caret to next word 		⌥ right
toggle case						⇧ ⌘	X
column selection mode			⇧ ⌘ 8
copy path						⌥ ⇧	C
copy reference					⌥ ⇧ ⌘ C
paste from history				⇧ ⌘  V
replace							⌥ F
find next						⌘ K
select all occurrences			⌃ ⌘	G
show usages						⇧ ⌘ F7
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;view&quot;&gt;View&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;quick definition					⌘ Y
quick documentation				F2
parameter info					⌃ ⌥	P
recently changed files			⇧ ⌘ E
class...						⇧ ⌘ T
file...							⇧ ⌘ R
symbol...						⇧ ⌘ O
line...							⌘ L
back							⌘ [
forward							⌘ ]
last edit location				⌃ Q
toggle bookmark 				⌥ B
toggle bookmark 0-9 			⌃ ⇧ 0-9
toggle bookmark with mnemonic	⌥ F3
toggle bookmark by mnemonic 	⌃ 0-9
show bookmark					⌘ F3
test							⌃ ⇧ T
file structure					⌘ O
type hierarchy					F4
method hierarchy				⇧ ⌘ H
call hierarchy					⌃ ⌥ H
next highlighted error			⌘ .
previous highlighted error		⇧ ⌘ .
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;code&quot;&gt;Code&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;generate...						⌘ N
basic completion				⌃ space
smarttype completion 			⌥ ⇧ space
expand							⌘ =
collapse						⌘ -
make project					⌘ B
make module						⌃ ⇧ B
compile							⌃ ⌘ B
surround with live template		⌥ ⌘ J
comment with block comment 		⌃ ⇧ /
reformat code 					⇧ ⌘ F
optimize imports 				⇧ ⌘ O
show coverage data... 			⌥ ⌘ F6
refactor this... 				⌃ T

##Run
run 							⇧ ⌘ F11
debug 							⌘ F11
run...							⌃ ⌥ R
debug...						⌃ ⌥ D
stop							⌘ F2
run to cursor					⌘ R
evaluate expression...			⌘ U
temporary line breakpoint 		⌃ ⌘ B
view breakpoint 				⇧ ⌘ B
add to watches 					⌘ F4
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;window&quot;&gt;Window&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;close 							⌘ W
close others 					⌃ ⌘ W
colse all						⇧ ⌘ W
next project window 			⌘ `
previous project window 		⇧ ⌘ ·
project							⌘ P
jump to navigation bar 			⌥ ⌘ B
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;help&quot;&gt;Help&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;find action 					⌘ 3
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/JeffreyWei/jeffreywei.github.io/tree/master/assets/posts/2015-12/1201&quot;&gt;文档配置&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/idea,ide,keymap/IDE-idea-keymap&quot;&gt;idea 快捷键&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on December 01, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[我是你夜晚的太阳]]></title>
  <link>http://127.0.0.1:4000/novel,book/novel</link>
  <id>http://127.0.0.1:4000/novel,book/novel</id>
  <published>2015-11-28T00:00:00+08:00</published>
  <updated>2015-11-28T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;没有灵魂的生物可怕又可悲&lt;/p&gt;

&lt;!--more--&gt;

&lt;pre&gt;&lt;code&gt;我的天空没有太阳，总是黑夜，但并不暗，因为有东西代替了太阳。虽然没有太阳那么明亮，但对我来说已经足够。凭借着这份光，我便能把黑夜当成白天。
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这是女主人公&lt;code&gt;西本雪穗&lt;/code&gt;对自己生活状态的陈述，童年时生活的创伤让这个女孩失去了阳光，直到男主人公&lt;code&gt;桐原亮司&lt;/code&gt;的挺身而出，她抓住了这仅有的一点光亮仅仅的不放。书中直到结局才第一次正面描写两个人在同一地点出现，就是这样的两个人，两个人空空的灵魂产生的漩涡把他们紧紧的吸引在一起，影响着周围的一切。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;互利共生&lt;/code&gt;这是老刑警给他们下的定义，一个做事不择手段，另一个为其心甘情愿，从小学到高中、大学再到各自拥有自己的事业，在其他人的眼中不相交的两条轨迹因为特殊的羁绊越缠越深，他们的灵魂早在那个交织点上离开了他们的肉体，而对方的存在恰好填补了这份空白。雪穗让自己活在别人的羡慕中，她在夺取身边一切可以得道的资源，亮司则在暗中为其扫清障碍，甘愿做强盗甚至杀手。&lt;/p&gt;

&lt;p&gt;他们之间的关系到底是不是爱，或者只是另一半的单相思，作者给读者留下了想象的空间&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;雪穗正沿扶梯上楼，背影犹如白色的幽灵。
她一次都没有回头。
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;当亮司倒在血泊中的那一刻，她生命中唯一的亮光消失了，她仅存的那点精神支柱也被抽空，站在那里的只是一具剩下一具驱壳而已。&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/novel,book/novel&quot;&gt;我是你夜晚的太阳&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on November 28, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[当爬虫遇到压缩页面&GBK编码]]></title>
  <link>http://127.0.0.1:4000/python,%20spider/python-spider-encode</link>
  <id>http://127.0.0.1:4000/python,%20spider/python-spider-encode</id>
  <published>2015-11-25T00:00:00+08:00</published>
  <updated>2015-11-25T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;目标站点使用gzip或者中文编码&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/JeffreyWei/xunleiaccount&quot;&gt;网络VIP账号爬虫工具&lt;/a&gt;执行时出错，首先使用浏览器访问检查页面样式是否变更，确认代码中样式规则仍然是适用的，后使用同样的方法访问站点首页正常，在访问账号页面时返回数据为乱码，使用&lt;code&gt;curl&lt;/code&gt;查看页面同样返回乱码，查看浏览器请求，返回的头部确实有压缩标记，处理方法，需要在得到返回内容后使用对应的解压缩即可，这里给出Gzip的实现，如下：&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getPageHTML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;urllib2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Accept-Encoding&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;gzip, deflate&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;urllib2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urlopen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;c&quot;&gt;# gzip解压缩&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x1f\x8b\x08\x00\x00\x00&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gzip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GzipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fileobj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cStringIO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;StringIO&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;gbk&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/python,%20spider/python-spider-encode&quot;&gt;当爬虫遇到压缩页面&GBK编码&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on November 25, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[寻找数轴上相邻两个数之间的最大差值]]></title>
  <link>http://127.0.0.1:4000/python,%20algorithm/find-gap-algorithm</link>
  <id>http://127.0.0.1:4000/python,%20algorithm/find-gap-algorithm</id>
  <published>2015-11-24T00:00:00+08:00</published>
  <updated>2015-11-24T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;Via python&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;中午在网上看到的一道面试题，最近再补Python就试着写了下&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;问题描述：N个未排序的整数，在线性时间内，求这N个整数在数轴上相邻两个数之间的最大差值&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;python&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-*-&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;coding:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-*-&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;__author__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wei&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;#39;&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&amp;quot;每次找到一组数中相对小的，距离最近，在所有集合中找到最大的即为结果&amp;quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;gap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;):&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:]:&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;):&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;gap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__main__&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;时间复杂度为n(n-1)/2&lt;/em&gt;&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/python,%20algorithm/find-gap-algorithm&quot;&gt;寻找数轴上相邻两个数之间的最大差值&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on November 24, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Zookeeper (2) --典型应用场景]]></title>
  <link>http://127.0.0.1:4000/distribute/zk_02</link>
  <id>http://127.0.0.1:4000/distribute/zk_02</id>
  <published>2015-10-29T00:00:00+08:00</published>
  <updated>2015-10-29T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;典型分布式应用场景有：数据发布/订阅、负债均衡、命名服务、分布式协议/通知、集群管理、Master选举、分布式锁、分布式队列等。&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;数据发布/订阅&lt;/h2&gt;

&lt;p&gt;主要应用场景如&lt;code&gt;配置中心&lt;/code&gt;变更服务地址、数据库切换等，集群中的服务使用Zookeeper中的配置提供服务，解决服务规模大，配置修改频繁的问题。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;负载均衡&lt;/h2&gt;
&lt;p&gt;可以提供一种动态的DNS服务，Zookeeper中维护最新的IP、域名映射关系，客户端根据需要使用Zookeeper急群众的DNS信息来解析域名对应的IP，达到动态路由的目的。
## 命名服务
命名服务是分布式系统最基础的公共服务之一，在分布式系统中，被命名的尸体通常可以是集群中的机器、提供的服务地址或远程对象等，这些我们都可以同城他们为名称（Name）,其中较为常见的就是一些分布式服务框架（如RPC/RMI）中的服务地址列表，通过使用命名服务，客户端应用能够根据指定的名字来获取资源的实体、服务地址提供者的信息等。
## 分布式协议/通知
分布式协议/通知是协调不同组件协同供作的关键所在，例如分布式事务处理、机器间的相互协调等。引入这样一个协调者，便于将分布式协议的职责从应用中分离出来，从而可以大大减少系统之间的耦合性，而且能够显著提供系统的可扩展性。应用举例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mysql数据复制总线：Mysql_Replicator
    &lt;ol&gt;
      &lt;li&gt;任务注册&lt;/li&gt;
      &lt;li&gt;任务热备份&lt;/li&gt;
      &lt;li&gt;记录执行状态&lt;/li&gt;
      &lt;li&gt;控制台协调&lt;/li&gt;
      &lt;li&gt;冷备切换&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;一种通用的分布式系统机器间通信方式
    &lt;ol&gt;
      &lt;li&gt;心跳监测&lt;/li&gt;
      &lt;li&gt;工作进度汇报&lt;/li&gt;
      &lt;li&gt;系统调度&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-2&quot;&gt;集群管理&lt;/h2&gt;
&lt;p&gt;集群管理包括两部分：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code&gt;集群监控&lt;/code&gt;（对集群运行时状态的手机）&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;集群控制&lt;/code&gt;（对集群进行操作与控制）&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;通常会有如下的需求：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;需要知道集群中有多少机器在工作&lt;/li&gt;
  &lt;li&gt;对集群中的机器运行时状态进行收集（分布式日志收集系统）&lt;/li&gt;
  &lt;li&gt;对集群中的机器进行上下线操作（云主机管理）&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;master&quot;&gt;Master选举&lt;/h2&gt;
&lt;p&gt;当需要分布在不同机器上的相互独立的相同系统单元执行一个独立的操作时需要选出一个Master执行相应的操作。&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;分布式锁&lt;/h2&gt;

&lt;p&gt;分布式锁是控制分布系统之间同步访问共享资源的一种方式。如果不同的系统或是同一个系统的不同主机之间共享了一个或一组资源，那么访问这些资源的时候，往往需要通过一些互斥手段防止彼此之间的干扰，以确保一致性，在这种情况下，就需要使用分布式锁了。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;分布式队列&lt;/h2&gt;
&lt;p&gt;使用Zookeeper可以实现&lt;code&gt;FIFO：先进先出&lt;/code&gt;、&lt;code&gt;Barrier：分布式屏障&lt;/code&gt;，确保在分布式的架构下系统工作流程的正确性。&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/distribute/zk_02&quot;&gt;Zookeeper (2) --典型应用场景&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on October 29, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[java类继承中的一些规则]]></title>
  <link>http://127.0.0.1:4000/java/java-class-inherit</link>
  <id>http://127.0.0.1:4000/java/java-class-inherit</id>
  <published>2015-10-28T00:00:00+08:00</published>
  <updated>2015-10-28T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;子类初始化的顺序&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;子类初始化时构造函数优于类中的字段&lt;/h2&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mSuperX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;·&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;setX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;99&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;sc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;mSuperX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mSubX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kd&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;mSubX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;SubX is assigned &amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;printX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;SubX = &amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mSubX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;输出结果为&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;SubX is assigned 99
1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;构造子类B需要先是调用A的构造函数，由于&lt;code&gt;setX&lt;/code&gt;被重写，然后执行了B中的&lt;code&gt;setX&lt;/code&gt;方法输出99，然后初始化B中的字段&lt;code&gt;mSubX = 1&lt;/code&gt;，完成B对象的初始化。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构造子类时会先调用父类的无参构造方法，即使调用的是子类的有参构造方法&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mSuperX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;AAAAA&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;A1&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mSubX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;BBBBBBB&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;printX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;SubX = &amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mSubX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;B1&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;CCCCCC&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;C1&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;输出结果为&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;AAAAA
BBBBBBB
C1
&lt;/code&gt;&lt;/pre&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/java/java-class-inherit&quot;&gt;java类继承中的一些规则&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on October 28, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[ZooKeeper（1）--部署]]></title>
  <link>http://127.0.0.1:4000/distribute/zk_01</link>
  <id>http://127.0.0.1:4000/distribute/zk_01</id>
  <published>2015-10-20T00:00:00+08:00</published>
  <updated>2015-10-20T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;ZooKeeper集群、单机、伪集群部署方式&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;zookeeper&quot;&gt;Zookeeper部署&lt;/h2&gt;

&lt;h3 id=&quot;section&quot;&gt;配置修改&lt;/h3&gt;
&lt;p&gt;主要修改文件&lt;code&gt;zoo.cfg&lt;/code&gt;，修改内容如下：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;集群&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; dataDir=/tmp/zookeeper/	
	
 server.1=ip1:2888:3888
	
 server.2=ip2:2888:3888
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;单机&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; dataDir=/tmp/zookeeper/	
	
 server.1=ip1:2888:3888
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;伪集群&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt; dataDir=/tmp/zookeeper/	
	
 server.1=ip1:2888:3888
	
 server.2=ip1:4888:5888
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;在每台机器的指定的&lt;code&gt;dataDir&lt;/code&gt;下创建&lt;code&gt;myid&lt;/code&gt;文件内容为server后的数字&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;启动&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;sh zkServer.sh start
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;section-2&quot;&gt;测试&lt;/h3&gt;

&lt;p&gt;使用&lt;code&gt;telnet ip 2181&lt;/code&gt;测试，输入&lt;code&gt;stat&lt;/code&gt;查看服务状态&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;停止&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;sh zkServer.sh stop
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;bin目录下的命令&lt;/strong&gt;
zkCleanup	清理ZK历史数据（事务日志、快照数据文件）&lt;/p&gt;

&lt;p&gt;zkCli		ZK的建议客户端&lt;/p&gt;

&lt;p&gt;zkEnv		设置ZK的环境变量&lt;/p&gt;

&lt;p&gt;zkServer	ZK服务器的启动、停止和重启脚本&lt;/p&gt;

&lt;h2 id=&quot;zookeeperzabpaxos&quot;&gt;Zookeeper使用的ZAB协议与Paxos算法的区别&lt;/h2&gt;

&lt;p&gt;两者的设计目标不同，ZAB协议主要用于构建一个高可用的分布式数据主备系统，Paxos用于构建一个分布式的一致性状态机系统。&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/distribute/zk_01&quot;&gt;ZooKeeper（1）--部署&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on October 20, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Intellij IDEA使用记录]]></title>
  <link>http://127.0.0.1:4000/idea,ide/IDE-idea-JDK</link>
  <id>http://127.0.0.1:4000/idea,ide/IDE-idea-JDK</id>
  <published>2015-08-23T00:00:00+08:00</published>
  <updated>2015-08-23T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;记录IDE使用过程中遇到的问题、解决方案&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;项目编译环境调整&lt;/h2&gt;

&lt;p&gt;同时修改JDK、Language level、及Setting-&amp;gt;Java compiler中的配置。&lt;/p&gt;

&lt;h2 id=&quot;jdk-language-level&quot;&gt;JDK Language level&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;JDK&lt;/code&gt;：使用的编译版本&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Language level&lt;/code&gt;：代码编译检查的最低版本，比如设置为5.0就不能使用6.0、7.0的特性代码&lt;/p&gt;

&lt;p&gt;可以配置&lt;code&gt;Project&lt;/code&gt;的默认配置，也可以精确到每个&lt;code&gt;Modules&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;tab&quot;&gt;代码中使用Tab指标符&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;http://127.0.0.1:4000/assets/posts/2015-08/23-1.png&quot; alt=&quot;&quot; title=&quot;23-1.png&quot; /&gt;&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/idea,ide/IDE-idea-JDK&quot;&gt;Intellij IDEA使用记录&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on August 23, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[使用maven生成带依赖的jar]]></title>
  <link>http://127.0.0.1:4000/java/maven-jar</link>
  <id>http://127.0.0.1:4000/java/maven-jar</id>
  <published>2015-08-21T00:00:00+08:00</published>
  <updated>2015-08-21T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;编译、打包需要一个独立运行的jar。&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;mainfestmf&quot;&gt;生成MAINFEST.MF&lt;/h2&gt;
&lt;p&gt;项目源码根路径下添加&lt;code&gt;META-INF/MAINFEST.MF&lt;/code&gt;文件，用于指向还有启动类。&lt;/p&gt;

&lt;h2 id=&quot;maven&quot;&gt;maven配置修改&lt;/h2&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-compiler-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.3.2&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-jar-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.4&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;archive&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;manifest&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;addClasspath&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/addClasspath&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;classpathPrefix&amp;gt;&lt;/span&gt;lib/&lt;span class=&quot;nt&quot;&gt;&amp;lt;/classpathPrefix&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;&amp;lt;!--指明main方法所在的类--&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;mainClass&amp;gt;&lt;/span&gt;com.wei.spider.Main&lt;span class=&quot;nt&quot;&gt;&amp;lt;/mainClass&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/manifest&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/archive&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-assembly-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;archive&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;manifest&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;&amp;lt;!--指明main方法所在的类--&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;mainClass&amp;gt;&lt;/span&gt;com.wei.spider.Main&lt;span class=&quot;nt&quot;&gt;&amp;lt;/mainClass&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/manifest&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/archive&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;descriptorRefs&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;descriptorRef&amp;gt;&lt;/span&gt;jar-with-dependencies&lt;span class=&quot;nt&quot;&gt;&amp;lt;/descriptorRef&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/descriptorRefs&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;make-assembly&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;package&lt;span class=&quot;nt&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;single&lt;span class=&quot;nt&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;section&quot;&gt;编译打包、运行&lt;/h2&gt;

&lt;p&gt;使用命令&lt;code&gt;mvn clean compile assembly:single&lt;/code&gt;打包项目。使用&lt;code&gt;java -jar demo.jar&lt;/code&gt;运行。&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/java/maven-jar&quot;&gt;使用maven生成带依赖的jar&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on August 21, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[web项目中资源文件编译后改变]]></title>
  <link>http://127.0.0.1:4000/java/spring-resources</link>
  <id>http://127.0.0.1:4000/java/spring-resources</id>
  <published>2015-08-06T00:00:00+08:00</published>
  <updated>2015-08-06T00:00:00+08:00</updated>
  <author>
    <name>Wei</name>
    <uri>http://127.0.0.1:4000</uri>
    <email>mavenwei@qq.com</email>
  </author>
  <content type="html">&lt;p&gt;解决resources目录中配置文件改变的问题，spring中使用静态注入&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;保持资源文件在编译后不变&lt;/h2&gt;

&lt;p&gt;由于项目中用到了17mon的IP库，数据已文件的形式放在项目下的resources，但每次编译完发现在target下省城的对应的文件已改变，猜测是使用maven编译时，对不同类型的资源文件进行了处理，尝试使用maven的&lt;code&gt;Maven Resources Plugin&lt;/code&gt;插件排除特殊的资源文件&lt;/p&gt;

&lt;p&gt;修改Maven Resources Plugin插件配置，排除指定类型的文件&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-resources-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.7&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;nonFilteredFileExtensions&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;nonFilteredFileExtension&amp;gt;&lt;/span&gt;dat&lt;span class=&quot;nt&quot;&gt;&amp;lt;/nonFilteredFileExtension&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/nonFilteredFileExtensions&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;重新编译后，使用&lt;code&gt;md5&lt;/code&gt;命令对比两个文件，target下的资源文件未改变，一起正常。&lt;/p&gt;

&lt;h2 id=&quot;spring&quot;&gt;Spring中的静态注入&lt;/h2&gt;

&lt;p&gt;要在spring中使用静态注入需要满足两个条件：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;声明静态属性的set方法&lt;/li&gt;
  &lt;li&gt;使用&lt;code&gt;org.springframework.beans.factory.config.MethodInvokingFactoryBean&lt;/code&gt;向类中的方法注入&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;如要注入path：&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newPath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newPath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;spring配置如下：&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;staticMethod&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;com.wei.shimao.utils.IPLoactionUtils.setPath&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;arguments&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;
            ${ipdbpath}
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;http://127.0.0.1:4000/java/spring-resources&quot;&gt;web项目中资源文件编译后改变&lt;/a&gt; was originally published by Wei at &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;Sagittarius&lt;/a&gt; on August 06, 2015.&lt;/p&gt;</content>
</entry>

</feed>
