<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sagittarius</title>
    <description>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
</description>
    <link>http://jeffreywei.github.io/</link>
    <atom:link href="http://jeffreywei.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 13 Feb 2016 16:40:33 +0800</pubDate>
    <lastBuildDate>Sat, 13 Feb 2016 16:40:33 +0800</lastBuildDate>
    <generator>Jekyll v3.1.1</generator>
    
      <item>
        <title>Docker(3)-项目部署</title>
        <description>&lt;p&gt;项目中使用Docker发布、部署&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;生成镜像&lt;/h2&gt;
&lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;dockerfile&lt;/code&gt;生成包含war的镜像，此处使用的jetty作为容器&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM jetty:9-jre7
MAINTAINER wei@yizhen.com
COPY target/uther.war /var/lib/jetty/webapps/ROOT.war
VOLUME /home/jetty/.dubbo
EXPOSE 8080
EXPOSE 20885
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;em&gt;由于项目中使用了dubbo，需要在用户根目录创建一个可写权限的文件夹;对外暴露需要使用的端口&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;使用maven打包项目&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mvn  clean compile war:war -Dmaven.test.skip=true -P dev
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;docker build&lt;/code&gt;生成镜像&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo docker build -t imagename:tag dockerfilepath/
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-1&quot;&gt;启动镜像&lt;/h2&gt;

&lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;docker run&lt;/code&gt;启动容器&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo docker run -d -p 80:8080 -p 20885:20885 -v /log:/log --net=host --name proejct_0210 imagename:tag
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;em&gt;项目对外输出文件日志，使用了一个映射卷;net参数使dubbo向外暴露的接口使用和宿主机器同网段的地址&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;基础容器&lt;/h2&gt;
&lt;p&gt;###mysql&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo docker run --name mysql -v /mysqldata:/var/lib/mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=toor -d mysql:5.6
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;jenkins&quot;&gt;jenkins&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo docker run -it  -p 8080:8080 -p 50000:50000 -v /jenkinsdata:/var/ jenkins_home jenkins
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;registry&quot;&gt;registry&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo docker run -p 5000:5000 -v /docker_registry:/tmp/registry-dev  registry
sudo docker push 127.0.0.1:5000/imagename
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;rancher&quot;&gt;rancher&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo docker run -d --restart=always -p 8080:8080 rancher/server
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Wed, 10 Feb 2016 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/docker/2016/02/10/learning-docker-03-project-deploy.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/docker/2016/02/10/learning-docker-03-project-deploy.html</guid>
        
        <category>Docker</category>
        
        
        <category>Docker</category>
        
      </item>
    
      <item>
        <title>Docker(2)-容器&amp;仓库</title>
        <description>&lt;p&gt;Docker容器、仓库的相关操作&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;#容器&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;创建容器&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker create
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;创建出的容器处于停止状态，可以使用docker statrt启动，如果需要创建并启动容器使用&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-1&quot;&gt;进入容器&lt;/h2&gt;

&lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;-d&lt;/code&gt;启动的容器会进入后台，使用如下命令可以连接后台的容器&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker attach 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-2&quot;&gt;删除容器&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker rm
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-3&quot;&gt;导入、导出容器&lt;/h2&gt;
&lt;p&gt;导出一个已创建的容器到一个文件&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker export CONTAINER
docker import CONTAINER
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h1 id=&quot;section-4&quot;&gt;仓库&lt;/h1&gt;
&lt;p&gt;##创建私有仓库&lt;/p&gt;

&lt;p&gt;使用官方的&lt;code class=&quot;highlighter-rouge&quot;&gt;registry&lt;/code&gt;镜像搭建本地私有仓库&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run -d -p 5000:5000 -v /temp/dockerregistry:/tmp/registry registry
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-5&quot;&gt;上传镜像到私有仓库&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker push localhost:5000/IMAGE 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Thu, 21 Jan 2016 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/docker/2016/01/21/learning-docker-02-container-epository.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/docker/2016/01/21/learning-docker-02-container-epository.html</guid>
        
        <category>Docker</category>
        
        
        <category>Docker</category>
        
      </item>
    
      <item>
        <title>Docker(1)-镜像</title>
        <description>&lt;p&gt;Docker镜像的相关操作&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;镜像获取&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker pull [DockerRepositorieAddress/]IMAGENAME[:TAG]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;DockerRepositorieAddress:用于指定镜像来源的仓库地址，默认镜像仓库为Docker Hub&lt;/li&gt;
  &lt;li&gt;TAG:用于指定镜像版本，如不显示指定，默认会选择latest作为镜像的标签，获取最新版本的镜像&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;镜像下载时会以层的方式进行，层(Layer)其实是AUFS(Advanced Union File System,一种联合文件系统)中的重要概念，是实现增量保存与更新的基础。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;镜像信息查看&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;查看本机已下载的镜像&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; docker images
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;此命令会显示一下信息：&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;来源的仓库地址&lt;/li&gt;
      &lt;li&gt;镜像的标签&lt;/li&gt;
      &lt;li&gt;镜像的ID(唯一)&lt;/li&gt;
      &lt;li&gt;创建时间&lt;/li&gt;
      &lt;li&gt;镜像大小&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;为镜像指定标签&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; docker tag [DockerRepositorieAddress/]IMAGENAME:TAG IMAGES:NEWTAG
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;使用docker images命令查看，新命名的标签和旧的标签指向的是同一个镜像ID，他们只是别名不同。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;查看镜像详细信息&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; docker inspect IMAGEID
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;em&gt;在指定IMAGEID时，通过使用该ID前几个字符即可&lt;/em&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-2&quot;&gt;镜像搜索&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker search TERM
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-3&quot;&gt;删除镜像&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker rmi IMAGE[IMAGE...]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;删除时也可是使用&lt;code class=&quot;highlighter-rouge&quot;&gt;镜像ID&lt;/code&gt;来确定需要删除的镜像。如果镜像正在被使用使用rmi是无法删除的，可以使用&lt;code class=&quot;highlighter-rouge&quot;&gt;docker rmi -f&lt;/code&gt;强制删除，但不建议这么做，需要先使用&lt;code class=&quot;highlighter-rouge&quot;&gt;docker rm&lt;/code&gt;删除依赖的容器然后再删除镜像。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;创建镜像&lt;/h2&gt;

&lt;p&gt;目前创建镜像的方式由三种：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;基于现有镜像的容器创建&lt;/li&gt;
  &lt;li&gt;基于本地模板的导入&lt;/li&gt;
  &lt;li&gt;基于Dockerfile创建&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;下面介绍相对容易理解的前两种&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;基于现有镜像的容器创建&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;例如，对Ubuntu镜像进行操作后创建新的镜像&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; docker commit -m &quot;提交信息&quot; -a &#39;作者信息&#39; ORIGINIMAGEID NEWIMAGE
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;基于本地模板的导入&lt;/p&gt;

    &lt;p&gt;使用操作系统模板文件导入一个镜像文件&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; cat centos-xxx.xx.x.tar.gz 	| docker import - centos:tag
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-5&quot;&gt;保存和载入镜像&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;保存镜像&lt;/p&gt;

    &lt;p&gt;导出镜像为本地文件&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; docker save -o centos.tar centos:latest
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;载入镜像&lt;/p&gt;

    &lt;p&gt;使用本地文件生成镜像&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; docker load --input centos.tar 
 或
 docker load &amp;lt; centos.tar
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-6&quot;&gt;上传镜像&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker push NAME[:TAG]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section-7&quot;&gt;其他&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;设置源地址&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  docker login www.dockerhub.com
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;本系列参考《&lt;a href=&quot;http://book.douban.com/subject/26284823/&quot;&gt;Docker技术入门与实战&lt;/a&gt;》&lt;/p&gt;

</description>
        <pubDate>Wed, 20 Jan 2016 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/docker/2016/01/20/learning-docker-01-image.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/docker/2016/01/20/learning-docker-01-image.html</guid>
        
        <category>Docker</category>
        
        
        <category>Docker</category>
        
      </item>
    
      <item>
        <title>tomcat远程调试</title>
        <description>&lt;p&gt;配置使用tomcat远程调试功能，使用idea远程调试项目&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;##tomcat配置
开启tomcat远程配置的方式有多种，下面介绍其中的一种。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;检查环境变量&lt;code class=&quot;highlighter-rouge&quot;&gt;CATALINA_BASE&lt;/code&gt;，指向tomcat根目录;&lt;/li&gt;
  &lt;li&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;bin&lt;/code&gt;目录中创建文件&lt;code class=&quot;highlighter-rouge&quot;&gt;setenv.sh&lt;/code&gt;，windows环境命名为&lt;code class=&quot;highlighter-rouge&quot;&gt;setenv.bat&lt;/code&gt;;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;在上面的文件中添加如下命令:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; EXPORT CATALINA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&quot;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;windwos&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; SET CATALINA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&quot;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;此处指定的远程调试端口为&lt;code class=&quot;highlighter-rouge&quot;&gt;8000&lt;/code&gt;。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;ide&quot;&gt;IDE配置&lt;/h2&gt;

&lt;p&gt;这里使用的是&lt;code class=&quot;highlighter-rouge&quot;&gt;idea&lt;/code&gt;，在&lt;code class=&quot;highlighter-rouge&quot;&gt;Run/Debug Configurations&lt;/code&gt;中创建类型为&lt;code class=&quot;highlighter-rouge&quot;&gt;remote&lt;/code&gt;的应用，输入部署tomcat主机的ip:port选择本地源码所属的模块，启动&lt;code class=&quot;highlighter-rouge&quot;&gt;debug&lt;/code&gt;连接远程tomcat即可远程调试项目。&lt;/p&gt;

&lt;h2 id=&quot;tomcatjetty&quot;&gt;tomcat&amp;amp;jetty&lt;/h2&gt;

&lt;p&gt;最近在工作中遇到的一个部署问题，是由于URL编码造成的，开发环境使用maven插件使项目运行在jetty上，线上环境为tomcat，部署后发现前台传入的中文无法正常到达后台，查看tomcat配置文档，需要在server.xml中配置连接的编码格式，添加&lt;code class=&quot;highlighter-rouge&quot;&gt;URIEncoding=&quot;UTF-8&quot;&lt;/code&gt;配置。&lt;/p&gt;

</description>
        <pubDate>Fri, 15 Jan 2016 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/java/2016/01/15/tomcat-remote-debug.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/java/2016/01/15/tomcat-remote-debug.html</guid>
        
        <category>java</category>
        
        
        <category>java</category>
        
      </item>
    
      <item>
        <title>使用jsonp实现js跨域请求</title>
        <description>&lt;p&gt;页面内跨域请求&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;##跨域限制
浏览器出于安全限制了不同域间的请求，jsonp使用动态生成前端js代码的方式绕过这个限制可以实现跨域请求。&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;前端&lt;/h2&gt;
&lt;p&gt;前端使用jquery封装的ajax&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;lang=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://libs.baidu.com/jquery/2.0.0/jquery.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://127.0.0.1:8080/ajax?callback=?&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
			&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#content&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;This is &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;调用时可以指定&lt;code class=&quot;highlighter-rouge&quot;&gt;callback&lt;/code&gt;或由jquery自动生成callback的参数。
##后端
后端代码使用springmvc实现一个可以处理异步请求的方法&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;nd&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/ajax&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@ResponseBody&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;getAjaxResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@RequestParam&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;callback&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;{&#39;name&#39;:&#39;张三&#39;}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;callback&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;(&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;后端服务需要可以处理&lt;code class=&quot;highlighter-rouge&quot;&gt;callback&lt;/code&gt;参数，并在返回前端需要的回调函数。&lt;/p&gt;
</description>
        <pubDate>Wed, 13 Jan 2016 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/javascript/2016/01/13/ajax-jquery-crossdomain.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/javascript/2016/01/13/ajax-jquery-crossdomain.html</guid>
        
        <category>javascript</category>
        
        
        <category>javascript</category>
        
      </item>
    
      <item>
        <title>2015年终总结</title>
        <description>&lt;p&gt;回顾过去、展望未来&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;section&quot;&gt;一、职责概述&lt;/h2&gt;

&lt;p&gt;入职以来主要负责自动风控项目的研发管理工作，自主开发基于多样化用户数据，实现分析用户行为分析，辅助决策贷款审核的风控平台。目前自建爬虫不能满足需求，数据源主要依赖第三方采集，分析方式采用主观判断信用项分类的打分机制，初始参数采用逻辑回归的模型计算而来。此产品对外提供贷前辅助决策的功能。团队目标：在现有数据基础上给出尽可能客观的、能够被正常解释的分析结论，为公司现有贷款业务服务。围绕此项目，工作内容如下：&lt;/p&gt;

&lt;p&gt;管理型工作：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;新人培训&lt;/li&gt;
  &lt;li&gt;产品研发&lt;/li&gt;
  &lt;li&gt;资源协调&lt;/li&gt;
  &lt;li&gt;组织列会&lt;/li&gt;
  &lt;li&gt;内培培训、分享&lt;/li&gt;
  &lt;li&gt;团队建设&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;技术型工作：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;技术选型&lt;/li&gt;
  &lt;li&gt;产品架构&lt;/li&gt;
  &lt;li&gt;技术指导&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-1&quot;&gt;二、成绩和做法&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;设计之初考虑分布式的需求，为后续开发打下良好基础&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 数据库监控层
 分布式服务、缓存
 利于扩展的代码组织结构
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;爬虫技术攻关，实现密码登陆、二次验证、js沙箱&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 管理请求连接，便于重用、状态保持
 含有复杂ajax的数据获取方式使用执行js的方式获取
 登录含有验证码的请求页面
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;计算服务&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 抽象数据源、计算规则，便于扩展
 支持不同算法的计算框架
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;适合现有团队的沟通协作方式&lt;/p&gt;

    &lt;p&gt;团队角色:&lt;code class=&quot;highlighter-rouge&quot;&gt;数据科学家&lt;/code&gt;,&lt;code class=&quot;highlighter-rouge&quot;&gt;业务专家&lt;/code&gt;,&lt;code class=&quot;highlighter-rouge&quot;&gt;数据消费者&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 每个人工作侧重点不同
 执行力较高
 适应快速迭代
 对业务推，对技术拉
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-2&quot;&gt;三、经验和教训&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;对未知领域保持兴趣、敬畏，对结论的严谨，不明白的一定要找到原因，一知半解不可取。&lt;/li&gt;
  &lt;li&gt;做事讲究方式方法，用对的方法解决问题起着至关重要的作用，综合团队意见。&lt;/li&gt;
  &lt;li&gt;相互信任，预留时间储备，可以给团队成员快速的成长空间&lt;/li&gt;
  &lt;li&gt;项目长远规划很重要，避免做无用功。&lt;/li&gt;
  &lt;li&gt;产品项目最大的人力支出项并不是薪酬，而是招募组建这支团队的时间成本，以及在不得已的情况下，降低标准组队带来的质量与效率下降。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-3&quot;&gt;四、今后目标&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;业务框架稳定后工作重心向数据分析转移&lt;/li&gt;
  &lt;li&gt;规范的团队管理方式，改进任务分配、评估、跟踪&lt;/li&gt;
  &lt;li&gt;继续锻炼身体，培养好的生活习惯&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-4&quot;&gt;五、对组织意见或建议&lt;/h2&gt;

&lt;p&gt;明确各项目组任务、职责，让每个人明确自己的定位，不仅有事做，而且愿意做。为其他人创造成长的机会，达到公司、个人双赢。&lt;/p&gt;
</description>
        <pubDate>Fri, 25 Dec 2015 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/work/2015/12/25/2015-summary.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/work/2015/12/25/2015-summary.html</guid>
        
        <category>work</category>
        
        
        <category>work</category>
        
      </item>
    
      <item>
        <title>maven引用snapshot版本jar</title>
        <description>&lt;!--more--&gt;
&lt;p&gt;##问题描述&lt;/p&gt;

&lt;p&gt;在本地编译上传snapshot jar,在其他环境无法正常获取，发现每次执行&lt;code class=&quot;highlighter-rouge&quot;&gt;mvn deploy&lt;/code&gt;时都会在本地仓库生成相应的文件，本地编译其他依赖项目是没有问题的，但在其他环境编译发现始终从PublicRepositorie获取，推断部署阶段应该是没问题的，猜测问题出在snapshot获取的路径配置上，查看maven配置&lt;code class=&quot;highlighter-rouge&quot;&gt;setting.xml&lt;/code&gt;。&lt;/p&gt;

&lt;h2 id=&quot;settingxml&quot;&gt;配置setting.xml&lt;/h2&gt;
&lt;p&gt;###mirror段&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;mirror&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;snapshot&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;mirrorOf&amp;gt;&lt;/span&gt;snapshots-repo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/mirrorOf&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://xxx.com/content/repositories/snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/mirror&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;profile&quot;&gt;profile段&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;profile&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;allow-snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;activation&amp;gt;&amp;lt;activeByDefault&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/activeByDefault&amp;gt;&amp;lt;/activation&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;nt&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;snapshots-repo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://xxx.com/content/repositories/snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;releases&amp;gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;false&lt;span class=&quot;nt&quot;&gt;&amp;lt;/enabled&amp;gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;snapshots&amp;gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/enabled&amp;gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;nt&quot;&gt;&amp;lt;/profile&amp;gt;&lt;/span&gt;
 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;再次编译依赖项目即可从SnapshotsRepositorie获取快照版本的类库。&lt;/p&gt;

</description>
        <pubDate>Wed, 23 Dec 2015 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/java,maven/2015/12/23/maven-using-SNAPSHOT.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/java,maven/2015/12/23/maven-using-SNAPSHOT.html</guid>
        
        <category>java</category>
        
        <category>maven</category>
        
        
        <category>java,maven</category>
        
      </item>
    
      <item>
        <title>maven发布带有javadoc、source的库文件</title>
        <description>&lt;p&gt;如果只发布打包的jar,在其他项目中引用看到的参数都是以var1…的形式存在，而且不包含注释文档，本文介绍如何向布带有源码、注释的jar.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;maven&quot;&gt;maven配置&lt;/h2&gt;
&lt;p&gt;向maven配置文件&lt;code class=&quot;highlighter-rouge&quot;&gt;settings.xml&lt;/code&gt;中添加&lt;code class=&quot;highlighter-rouge&quot;&gt;servers&lt;/code&gt;段，例如：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;server&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;thirdparty&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;username&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/username&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;password&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/password&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/server&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;server&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;snapshots&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;username&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/username&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;password&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/password&amp;gt;&lt;/span&gt;
  	&lt;span class=&quot;nt&quot;&gt;&amp;lt;/server&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;分别用于release、snapshot版本发布.&lt;/p&gt;

&lt;h2 id=&quot;project&quot;&gt;project配置&lt;/h2&gt;

&lt;p&gt;修改项目下的&lt;code class=&quot;highlighter-rouge&quot;&gt;pom.xml&lt;/code&gt;文件&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-source-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;attach-sources&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-javadoc-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;attach-javadocs&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- explicitly define maven-deploy-plugin after other to force exec
        order --&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-deploy-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;deploy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;section&quot;&gt;发布&lt;/h2&gt;
&lt;p&gt;使用如下命令发布&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	mvn source:jar javadoc:jar deploy
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这样在其他项目引用时就可以获取到文档及源码。&lt;/p&gt;
</description>
        <pubDate>Wed, 16 Dec 2015 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/java,maven/2015/12/16/maven-deploy.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/java,maven/2015/12/16/maven-deploy.html</guid>
        
        <category>java</category>
        
        <category>maven</category>
        
        
        <category>java,maven</category>
        
      </item>
    
      <item>
        <title>springmvc中配置FreeMarker</title>
        <description>&lt;p&gt;前端模板freemarker配置&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;freemarkerjsp&quot;&gt;freemarker与JSP&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;freemarker是一种模板技术，类似的技术在python与nodejs众比较常见，语法直观&lt;/li&gt;
  &lt;li&gt;JSP会在编译器生成集成Servlet的class文件&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;除此之外freemarker也被用于代码生成、票据报表、邮件生成等方面&lt;/p&gt;

&lt;h2 id=&quot;springmvcfreemarker&quot;&gt;springmvc中集成freemarker&lt;/h2&gt;
&lt;p&gt;pom.xml中添加freemarker依赖&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.freemarker&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;freemarker&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;2.3.23&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;springmvc相关配置&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;freemarkerConfigurer&quot;&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;templateLoaderPath&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/WEB-INF/views/&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;defaultEncoding&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;utf-8&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;freemarkerSettings&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;props&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;template_update_delay&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;10&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;locale&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;zh_CN&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;datetime_format&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;yyyy-MM-dd HH:mm:ss&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;date_format&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;yyyy-MM-dd&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;prop&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;number_format&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;#.##&lt;span class=&quot;nt&quot;&gt;&amp;lt;/prop&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/props&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;viewResolver&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;viewClass&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerView&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;suffix&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;.jsp&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;contentType&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/html;charset=utf-8&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;exposeRequestAttributes&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;exposeSessionAttributes&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;exposeSpringMacroHelpers&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;section&quot;&gt;模板文件常用语法&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-jsp&quot; data-lang=&quot;jsp&quot;&gt;&amp;lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&amp;gt;  
&amp;lt;html&amp;gt;  
&amp;lt;head&amp;gt;  
&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&amp;gt;  
&amp;lt;title&amp;gt;Insert title here&amp;lt;/title&amp;gt;  
&amp;lt;/head&amp;gt;  
&amp;lt;body&amp;gt;  
  
描述：${description}  
&amp;lt;br/&amp;gt;  
集合大小:${nameList?size}  
&amp;lt;br/&amp;gt;  
迭代list集合：  
&amp;lt;br/&amp;gt;  
&amp;lt;#list nameList as names&amp;gt;  
这是第${names_index+1}个人，叫做：&amp;lt;label style=&quot;color:red&quot;&amp;gt;${names}&amp;lt;/label&amp;gt;  
if判断：  
&amp;lt;br/&amp;gt;  
&amp;lt;#if (names==&quot;张三&quot;)&amp;gt;  
 他是科长  
&amp;lt;#elseif (names==&quot;李四&quot;)&amp;gt;       &amp;lt;#--注意这里没有返回而是在最后面--&amp;gt;   
 他是处长  
&amp;lt;#else&amp;gt;  
他是群众 
&amp;lt;/#if&amp;gt;  
&amp;lt;br/&amp;gt;  
&amp;lt;/#list&amp;gt;  
迭代map集合：  
&amp;lt;br/&amp;gt;  
&amp;lt;#list weaponMap?keys as key&amp;gt;  
key---&amp;gt;${key}&amp;lt;br/&amp;gt;  
value-----&amp;gt;${weaponMap[key]!(&quot;null&quot;)}  
&amp;lt;#--   
fremarker 不支持null, 可以用！ 来代替为空的值。  
其实也可以给一个默认值    
value-----${weaponMap[key]?default(&quot;null&quot;)}  
还可以 在输出前判断是否为null  
&amp;lt;#if weaponMap[key]??&amp;gt;&amp;lt;/#if&amp;gt;都可以  
--&amp;gt;  
  
&amp;lt;br/&amp;gt;  
&amp;lt;/#list&amp;gt;  
include导入文件：  
&amp;lt;br/&amp;gt;  
&amp;lt;#include &quot;include.html&quot;/&amp;gt;  
  
&amp;lt;/body&amp;gt;  
&amp;lt;/html&amp;gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;模板代码中可以直接读取session中级response中填入的属性值&lt;/p&gt;
</description>
        <pubDate>Thu, 10 Dec 2015 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/java,freemarker,spring/2015/12/10/freemarker-java.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/java,freemarker,spring/2015/12/10/freemarker-java.html</guid>
        
        <category>java</category>
        
        <category>FreeMarker</category>
        
        <category>spring</category>
        
        
        <category>java,FreeMarker,spring</category>
        
      </item>
    
      <item>
        <title>idea 快捷键</title>
        <description>&lt;p&gt;idea 定制快捷键Mac版&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;edit-action&quot;&gt;Edit Action&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;up/down/right/left				⌃ I/K/L/J
cut up to line end				⌃ K
delete to line start			⌘ del
duplicate lines					⌥ ⌘	down
join lines						⌃ ⇧	J
split lines						⌘ enter
move caret to line end			⌃ E
move caret to next word 		⌥ right
toggle case						⇧ ⌘	X
column selection mode			⇧ ⌘ 8
copy path						⌥ ⇧	C
copy reference					⌥ ⇧ ⌘ C
paste from history				⇧ ⌘  V
replace							⌥ F
find next						⌘ K
select all occurrences			⌃ ⌘	G
show usages						⇧ ⌘ F7
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;view&quot;&gt;View&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;quick definition					⌘ Y
quick documentation				F2
parameter info					⌃ ⌥	P
recently changed files			⇧ ⌘ E
class...						⇧ ⌘ T
file...							⇧ ⌘ R
symbol...						⇧ ⌘ O
line...							⌘ L
back							⌘ [
forward							⌘ ]
last edit location				⌃ Q
toggle bookmark 				⌥ B
toggle bookmark 0-9 			⌃ ⇧ 0-9
toggle bookmark with mnemonic	⌥ F3
toggle bookmark by mnemonic 	⌃ 0-9
show bookmark					⌘ F3
test							⌃ ⇧ T
file structure					⌘ O
type hierarchy					F4
method hierarchy				⇧ ⌘ H
call hierarchy					⌃ ⌥ H
next highlighted error			⌘ .
previous highlighted error		⇧ ⌘ .
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;code&quot;&gt;Code&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;generate...						⌘ N
basic completion				⌃ space
smarttype completion 			⌥ ⇧ space
expand							⌘ =
collapse						⌘ -
make project					⌘ B
make module						⌃ ⇧ B
compile							⌃ ⌘ B
surround with live template		⌥ ⌘ J
comment with block comment 		⌃ ⇧ /
reformat code 					⇧ ⌘ F
optimize imports 				⇧ ⌘ O
show coverage data... 			⌥ ⌘ F6
refactor this... 				⌃ T

##Run
run 							⇧ ⌘ F11
debug 							⌘ F11
run...							⌃ ⌥ R
debug...						⌃ ⌥ D
stop							⌘ F2
run to cursor					⌘ R
evaluate expression...			⌘ U
temporary line breakpoint 		⌃ ⌘ B
view breakpoint 				⇧ ⌘ B
add to watches 					⌘ F4
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;window&quot;&gt;Window&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;close 							⌘ W
close others 					⌃ ⌘ W
colse all						⇧ ⌘ W
next project window 			⌘ `
previous project window 		⇧ ⌘ ·
project							⌘ P
jump to navigation bar 			⌥ ⌘ B
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;help&quot;&gt;Help&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;find action 					⌘ 3
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/JeffreyWei/jeffreywei.github.io/tree/master/assets/posts/2015-12/1201&quot;&gt;文档配置&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 01 Dec 2015 00:00:00 +0800</pubDate>
        <link>http://jeffreywei.github.io/idea,ide,keymap/2015/12/01/IDE-idea-keymap.html</link>
        <guid isPermaLink="true">http://jeffreywei.github.io/idea,ide,keymap/2015/12/01/IDE-idea-keymap.html</guid>
        
        <category>idea</category>
        
        <category>ide</category>
        
        <category>keymap</category>
        
        
        <category>idea,ide,keymap</category>
        
      </item>
    
  </channel>
</rss>
